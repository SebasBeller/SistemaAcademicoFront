<div class="buscador">
  <!-- Input para escribir el término de búsqueda -->
  <input
    type="text"
    class="text-input"
    placeholder="Escribe tu búsqueda..."
    [(ngModel)]="busqueda"
    (ngModelChange)="filtrarMaterias()"
  />

  <!-- Combo box para seleccionar el tipo de filtro -->
  <select [(ngModel)]="tipoFiltro" (change)="filtrarMaterias()" class="text-input">
    <option value="materia">Materia</option>
    <option value="docente">Docente</option>
    <option value="paralelo">Paralelo</option>
  </select>


</div>

<div *ngIf="materiasFiltradas.length === 0">
  <p>No se encontraron materias que coincidan con los criterios de búsqueda.</p>
</div>

<!-- Lista de materias filtradas -->
<div class="materias-container">
  <div *ngFor="let materia of materiasFiltradas" class="materia-detalle">
    <img src="https://2.bp.blogspot.com/-DOXEGnjTVHs/V3MUqvgn_dI/AAAAAAAAADE/LEZCAP5mB-UE8S3FOs91mCeVu31KewVAQCLcB/s1600/lectura1-1030x953.jpg" alt="{{materia.titulo}}" />
    <div>
      <h2>{{materia.materia?.nombre}}</h2>
      <p><strong>Profesor:</strong> {{materia.profesor?.nombre}}</p>
      <p><strong>Paralelo:</strong> {{materia.paralelo?.paralelo}}</p>
      <p><strong>Faltas:</strong> {{calcularTotalClases(materia).faltas}}</p>
      <p><strong>Asistencias:</strong> {{calcularTotalClases(materia).asistencias}}</p>
      <p><strong>Licencias:</strong> {{calcularTotalClases(materia).licencias}}</p>

      <!-- Mostrar los totales de asistencias, faltas y permisos -->
      <p><strong>Total de clases:</strong> {{calcularTotalClases(materia).asistencias + calcularTotalClases(materia).faltas + calcularTotalClases(materia).licencias}}</p>
      <p><strong><a [routerLink]="['/ver-asistencia-materia', materia.materia?.nombre,materia.profesor?.nombre, materia.paralelo?.paralelo]" class="blue-link">DETALLE</a></strong></p>
      <!--

      -->
    </div>
  </div>
</div>
